{"version":3,"sources":["RouteModal.ts"],"names":[],"mappings":"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","file":"RouteModal.js","sourcesContent":["import {Component, Input, Output, EventEmitter, ElementRef, ViewChild, OnDestroy, OnInit} from \"@angular/core\";\nimport {NavigationExtras} from \"@angular/router/src/router\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n    selector: \"route-modal\",\n    template: `\n<div class=\"modal route-modal\" \n     tabindex=\"-1\"\n     role=\"dialog\"\n     #modalRoot\n     (keydown.esc)=\"closeOnEscape ? close() : 0\"\n     [ngClass]=\"{ in: isOpened, fade: isOpened }\"\n     [ngStyle]=\"{ display: isOpened ? 'block' : 'none' }\"\n     (click)=\"closeOnOutsideClick ? close() : 0\">\n    <div [class]=\"'modal-dialog ' + modalClass\" (click)=\"preventClosing($event)\">\n        <div class=\"modal-content\" tabindex=\"0\" *ngIf=\"isOpened\">\n            <div class=\"modal-header\">\n                <button *ngIf=\"!hideCloseButton\" type=\"button\" class=\"close\" data-dismiss=\"modal\" [attr.aria-label]=\"cancelButtonLabel || 'Close'\" (click)=\"close()\"><span aria-hidden=\"true\">&times;</span></button>\n                <h4 class=\"modal-title\" *ngIf=\"title\">{{ title }}</h4>\n                <ng-content select=\"modal-header\"></ng-content>\n            </div>\n            <div class=\"modal-body\">\n                <ng-content select=\"modal-content\"></ng-content>\n            </div>\n            <div class=\"modal-footer\">\n                <ng-content select=\"modal-footer\"></ng-content>\n                <button *ngIf=\"cancelButtonLabel\" type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"close()\">{{ cancelButtonLabel }}</button>\n                <button *ngIf=\"submitButtonLabel\" type=\"button\" class=\"btn btn-primary\" (click)=\"onSubmit.emit(undefined)\">{{ submitButtonLabel }}</button>\n            </div>\n        </div>\n    </div>\n</div>\n`\n})\nexport class RouteModal implements OnInit, OnDestroy {\n\n    // -------------------------------------------------------------------------\n    // Inputs\n    // -------------------------------------------------------------------------\n\n    @Input()\n    cancelUrl: any[];\n\n    @Input()\n    cancelUrlExtras: NavigationExtras;\n\n    @Input()\n    modalClass: string;\n\n    @Input()\n    closeOnEscape: boolean = true;\n\n    @Input()\n    closeOnOutsideClick: boolean = true;\n\n    @Input()\n    title: string;\n\n    @Input()\n    hideCloseButton = false;\n\n    @Input()\n    cancelButtonLabel: string;\n\n    @Input()\n    submitButtonLabel: string;\n\n    // -------------------------------------------------------------------------\n    // Outputs\n    // -------------------------------------------------------------------------\n\n    @Output()\n    onOpen = new EventEmitter(false);\n\n    @Output()\n    onClose = new EventEmitter(false);\n\n    @Output()\n    onSubmit = new EventEmitter(false);\n\n    // -------------------------------------------------------------------------\n    // Private properties\n    // -------------------------------------------------------------------------\n\n    @ViewChild(\"modalRoot\")\n    private modalRoot: ElementRef;\n\n    private isOpened = false;\n\n    private backdropElement: HTMLElement;\n\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n\n    constructor(private router: Router) {\n        this.createBackDrop();\n    }\n\n    // -------------------------------------------------------------------------\n    // Lifecycle Methods\n    // -------------------------------------------------------------------------\n\n    ngOnInit() {\n        this.open();\n    }\n\n    ngOnDestroy() {\n        if (this.backdropElement && this.backdropElement.parentNode === document.body)\n            document.body.removeChild(this.backdropElement);\n    }\n\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n\n    open(...args: any[]) {\n        if (this.isOpened)\n            return;\n        \n        this.isOpened = true;\n        this.onOpen.emit(args);\n        document.body.appendChild(this.backdropElement);\n        window.setTimeout(() => this.modalRoot.nativeElement.focus(), 0);\n        document.body.className += \"modal-open\";\n    }\n\n    close(...args: any[]) {\n        if (!this.isOpened)\n            return;\n\n        this.isOpened = false;\n        this.onClose.emit(args);\n        document.body.className.replace(/modal-open\\b/, \"\");\n        if (this.cancelUrl)\n            this.router.navigate(this.cancelUrl, this.cancelUrlExtras);\n    }\n\n    // -------------------------------------------------------------------------\n    // Private Methods\n    // -------------------------------------------------------------------------\n\n    private preventClosing(event: MouseEvent) {\n        event.stopPropagation();\n    }\n\n    private createBackDrop() {\n        this.backdropElement = document.createElement(\"div\");\n        this.backdropElement.classList.add(\"modal-backdrop\");\n        this.backdropElement.classList.add(\"fade\");\n        this.backdropElement.classList.add(\"in\");\n    }\n\n}\n"],"sourceRoot":""}